(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29947555"],{"2aa8":function(e,t,a){"use strict";var l=a("7a03"),i=a.n(l);i.a},6980:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"我的待办",name:"tab1"}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",justify:"end"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"mini"},on:{click:e.collpseAll}},[e._v("全部折叠")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-remove-outline",size:"mini"},on:{click:e.expandAll}},[e._v("全部展开")])],1),a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:e.evaluateTitle,name:"evaluation"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.evaluationTable,border:"",fit:"",size:"mini",stripe:"","max-height":"220","highlight-current-row":""}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",label:e.$t("table.id"),width:"50",type:"index"}}),a("el-table-column",{attrs:{width:"150px","header-align":"center",label:"评价名称",prop:"afairName",sortable:""}}),a("el-table-column",{attrs:{width:"150px","header-align":"center",label:"所属系列",prop:"series",sortable:""}}),a("el-table-column",{attrs:{"min-width":"120","header-align":"center",label:"评价对象姓名",sortable:"",prop:"staffName"}}),a("el-table-column",{attrs:{"min-width":"80","header-align":"center",label:"评价对象工号",sortable:"",prop:"staffId"}}),a("el-table-column",{attrs:{"min-width":"110","header-align":"center",label:"部门名称",sortable:"",prop:"du"}}),a("el-table-column",{attrs:{align:"center",label:e.$t("table.option"),width:"50","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit-outline",title:"处理"},on:{click:function(a){e.handleProcess(t.row)}}})]}}])})],1)],1),a("el-collapse-item",{attrs:{title:"我的培训",name:"training"}}),a("el-collapse-item",{attrs:{title:"我的考试",name:"examination"}})],1)],1),a("el-tab-pane",{attrs:{label:"历史记录",name:"tab2"}},[a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",justify:"end"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"mini"},on:{click:e.collpseHistoryAll}},[e._v("全部折叠")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-remove-outline",size:"mini"},on:{click:e.expandHistoryAll}},[e._v("全部展开")])],1),a("el-collapse",{model:{value:e.activeHistoryNames,callback:function(t){e.activeHistoryNames=t},expression:"activeHistoryNames"}},[a("el-collapse-item",{attrs:{title:e.historyEvaluateTitle,name:"evaluation"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.historyEvaluationTable,border:"",fit:"",size:"mini",stripe:"","max-height":"220","highlight-current-row":""}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",label:e.$t("table.id"),width:"50",type:"index"}}),a("el-table-column",{attrs:{width:"150px","header-align":"center",label:"评价名称",prop:"affairName",sortable:""}}),a("el-table-column",{attrs:{width:"150px","header-align":"center",label:"所属系列",prop:"series",sortable:""}}),a("el-table-column",{attrs:{"min-width":"120","header-align":"center",label:"评价对象姓名",sortable:"",prop:"staffName"}}),a("el-table-column",{attrs:{"min-width":"80","header-align":"center",label:"评价对象工号",sortable:"",prop:"staffId"}}),a("el-table-column",{attrs:{"min-width":"110","header-align":"center",label:"部门",sortable:"",prop:"du"}}),a("el-table-column",{attrs:{"min-width":"110","header-align":"center",label:"评价时间",sortable:"",prop:"du"}}),a("el-table-column",{attrs:{width:"80","header-align":"center",label:"得分",sortable:"",prop:"sumScore"}}),a("el-table-column",{attrs:{align:"center",label:e.$t("table.option"),width:"50","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit",title:"处理"},on:{click:function(a){e.handleEdit(t.row)}}})]}}])})],1)],1),a("el-collapse-item",{attrs:{title:"我的培训",name:"training"}}),a("el-collapse-item",{attrs:{title:"我的考试",name:"examination"}})],1)],1),a("el-tab-pane",{attrs:{label:"我的成绩",name:"tab3"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataTable,border:"",fit:"",size:"mini",stripe:"","max-height":"420","highlight-current-row":""}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",label:e.$t("table.id"),width:"50",type:"index"}}),a("el-table-column",{attrs:{width:"100px","header-align":"center",label:"软通工号",prop:"employeeID"}}),a("el-table-column",{attrs:{width:"100px","header-align":"center",label:"员工姓名",prop:"employeeName"}}),a("el-table-column",{attrs:{width:"90px","header-align":"center",label:"属性",sortable:"",prop:"types"}}),a("el-table-column",{attrs:{"min-width":"90","header-align":"center",label:"得分时间",sortable:"",prop:"scoreTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDate")(t.row.scoreTime)))])]}}])}),a("el-table-column",{attrs:{"min-width":"80","header-align":"center",label:"名称",sortable:"",prop:"affairName"}}),a("el-table-column",{attrs:{width:"110","header-align":"center",label:"所属系列",sortable:"",prop:"series"}}),a("el-table-column",{attrs:{width:"120","header-align":"center",label:"所属产品线",prop:"bu"}}),a("el-table-column",{attrs:{"min-width":"70","header-align":"center",label:"得分",sortable:"",prop:"score"}}),a("el-table-column",{attrs:{"min-width":"80","header-align":"center",label:"成本中心",prop:"costCenter"}}),a("el-table-column",{attrs:{width:"110","header-align":"center",label:"最后修改人",prop:"modifier"}})],1)],1)],1),a("el-dialog",{attrs:{visible:e.dialogSetVisible,width:"70%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogSetVisible=t}}},[a("el-row",[e._v(e._s(e.dimensionForm.affairName))]),a("el-row",{staticStyle:{"font-size":"12px",margin:"10px 0px"}},[a("el-col",{attrs:{span:16}},[e._v("被评价人:"+e._s(e.dimensionForm.evaluator))]),a("el-col",{attrs:{span:8}},[e._v("评价日期:"+e._s(e.dimensionForm.evaluateDate))])],1),a("el-form",{ref:"dimensionForm",attrs:{model:e.dimensionForm,size:"mini"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.dimensionForm.dimensionList,border:"",fit:"",size:"mini",stripe:"","max-height":"285","tooltip-effect":"dark","highlight-current-row":""}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",label:e.$t("table.id"),width:"50",type:"index"}}),a("el-table-column",{attrs:{prop:"dimension","header-align":"center",label:"考核维度",width:"150"}}),a("el-table-column",{attrs:{"header-align":"center",label:"得分",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"dimensionList."+t.$index+".scope",rules:e.rules.score}},[a("el-input",{attrs:{autocomplete:"off",maxlength:"3"},model:{value:t.row.score,callback:function(a){e.$set(t.row,"score",a)},expression:"scope.row.score"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"evaluate","header-align":"center",label:"评价","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",[a("el-input",{attrs:{autocomplete:"off",maxlength:"3"},model:{value:t.row.evaluate,callback:function(a){e.$set(t.row,"evaluate",a)},expression:"scope.row.evaluate"}})],1)]}}])}),a("el-table-column",{attrs:{"min-width":"100",prop:"explanation","header-align":"center",label:"考核点说明","show-overflow-tooltip":""}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleSave()}}},[e._v("保 存")])],1)],1)],1)},i=[],n=a("be94"),r=(a("c5f6"),a("cadf"),a("551c"),a("097d"),a("2f62")),o=a("c466"),s={data:function(){var e=function(e,t,a){return t?isNaN(t)?a(new Error("只能输入整数和小数")):Number(t)>100||Number(t)<0?a(new Error("只能0~100的整数和小数")):a():a(new Error("请输入得分"))};return{activeTab:"tab1",activeNames:[],activeHistoryNames:[],dataTable:[],dialogSetVisible:!1,evaluateTitle:"待我评价",historyEvaluateTitle:"待我评价",dimensionForm:{dimensionList:[],evaluator:"",affairName:"",evaluateDate:""},rules:{score:[{required:!0,validator:e,trigger:"blur"}]}}},mounted:function(){this.getScoreInfo(),this.getEvaluateListData(this.employeeId),this.getHistoryEvaluateList(this.employeeId)},computed:Object(n["a"])({},Object(r["c"])(["employeeId","employeeName"]),Object(r["e"])({evaluationTable:function(e){return e.personalCenterStore.evaluateList},historyEvaluationTable:function(e){return e.personalCenterStore.historyEvaluateList}})),watch:{evaluationTable:function(e){this.evaluateTitle="待我评价("+e.length+")"},historyEvaluationTable:function(e){this.historyEvaluateTitle="待我评价("+e.length+")"}},methods:Object(n["a"])({},Object(r["b"])(["getEvaluateListData","getHistoryEvaluateList"]),{collpseAll:function(){this.activeNames=[]},expandAll:function(){this.activeNames=["evaluation","training","examination"]},expandHistoryAll:function(){this.activeHistoryNames=["evaluation","training","examination"]},collpseHistoryAll:function(){this.activeHistoryNames=[]},handleProcess:function(e){var t=this,a={affairId:e.affairId,employeeId:e.staffId};t.dimensionForm.affairName=e.afairName,t.dimensionForm.evaluator=e.staffName,t.dimensionForm.evaluateDate=Object(o["a"])(new Date,"yyyy-MM-dd hh:mm"),t.$store.dispatch("getDimenssionList",a).then(function(e){e.success?t.dimensionForm.dimensionList=e.data.map(function(e){return e.dimension=e.dimensionName+"(总分"+e.mark+")",e.score="",e}):t.dimensionForm.dimensionList=[],t.dialogSetVisible=!0})},getScoreInfo:function(){var e=this,t={employeeID:e.employeeId,pageParam:{currPage:1,pageSize:9999}};e.$store.dispatch("getScoreInfoById",t).then(function(t){t.success?e.dataTable=t.data.list:e.dataTable=[]}).catch(function(){e.dataTable=[]})},handleSave:function(){}})},c=s,m=(a("2aa8"),a("2877")),d=Object(m["a"])(c,l,i,!1,null,null,null);d.options.__file="personalCenter.vue";t["default"]=d.exports},"7a03":function(e,t,a){}}]);
//# sourceMappingURL=chunk-29947555.e3036211.js.map