(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5efa4450"],{"7dad":function(e,o,t){},"86e7":function(e,o,t){},"9ba7":function(e,o,t){e.exports=t.p+"img/login-bg.0899ffa6.jpg"},a1e5:function(e,o,t){"use strict";var a=t("86e7"),s=t.n(a);s.a},a55b:function(e,o,t){"use strict";t.r(o);var a=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"login-container note",style:e.note},[t("div",{staticClass:"login-con"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("欢迎登录")]),t("lang-select",{staticClass:"international right-menu-item",staticStyle:{float:"right"}})],1),t("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[t("el-form-item",{attrs:{prop:"userName"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"user"}})],1),t("el-input",{attrs:{placeholder:e.usernamePlaceholder,name:"userName",type:"text",autocomplete:"on"},model:{value:e.loginForm.userName,callback:function(o){e.$set(e.loginForm,"userName",o)},expression:"loginForm.userName"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),t("el-input",{attrs:{type:e.passwordType,placeholder:e.passwordPlaceholder,name:"password",autocomplete:"on"},nativeOn:{keyup:function(o){return"button"in o||!e._k(o.keyCode,"enter",13,o.key,"Enter")?e.handleLogin(o):null}},model:{value:e.loginForm.password,callback:function(o){e.$set(e.loginForm,"password",o)},expression:"loginForm.password"}}),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),t("el-checkbox",{model:{value:e.checked,callback:function(o){e.checked=o},expression:"checked"}},[e._v(e._s(e.$t("login.freeLogin")))]),t("a",{attrs:{href:"javascript:void(0)"},on:{click:e.clearCookie}},[e._v(e._s(e.$t("login.forgetPasswordTitle")))]),t("el-button",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(o){return o.preventDefault(),e.handleLogin(o)}}},[e._v(e._s(e.$t("login.logIn")))])],1)],1),t("el-dialog",{attrs:{title:e.dialogTitle,visible:e.showDialog,width:"20%","append-to-body":""},on:{"update:visible":function(o){e.showDialog=o}}},[e._v(e._s(e.$t("login.forgetPasswordTips")))])],1)])},s=[];t("a481"),t("cadf"),t("551c"),t("097d");var n=t("1131"),r=t("a78e"),i=t.n(r),l={name:"Login",components:{LangSelect:n["a"]},data:function(){var e=this,o=function(o,t,a){!t||t.replace(/\s/g,"").length<=0?a(new Error(e.$t("login.userNameTips"))):a()},a=function(o,t,a){t.length<6?a(new Error(e.$t("login.passwordTips"))):a()};return{loginForm:{userName:"",password:""},loginRules:{userName:[{required:!0,trigger:"blur",validator:o}],password:[{required:!0,trigger:"blur",validator:a}]},passwordType:"password",loading:!1,showDialog:!1,checked:!1,redirect:void 0,passwordPlaceholder:this.$i18n.t("login.password"),usernamePlaceholder:this.$i18n.t("login.userName"),dialogTitle:this.$i18n.t("login.forgetPassword"),note:{backgroundImage:"url("+t("9ba7")+")",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"100%"}}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},handleLogin:function(){var e=this;e.$refs.loginForm.validate(function(o){if(!o)return!1;e.loading=!0,e.checked&&(i.a.set("userName",e.loginForm.userName,{expires:10}),i.a.set("password",e.loginForm.password,{expires:10})),e.$store.dispatch("loginByUserName",e.loginForm).then(function(o){o.status?e.$message.error(o.message):(i.a.set("loginName",e.loginForm.userName),i.a.set("status","logined"),e.$store.dispatch("getUserInfo",e.loginForm.userName).then(function(){e.$router.push({path:e.redirect||"/"})}).catch(function(){e.$router.push({path:e.redirect||"/"})})),e.loading=!1}).catch(function(){e.loading=!1})})},getCookie:function(){i.a.get("userName")&&i.a.get("password")&&(this.loginForm.userName=i.a.get("userName"),this.loginForm.password=i.a.get("password"),this.checked=!0,this.handleLogin())},clearCookie:function(){i.a.remove()}},mounted:function(){this.getCookie()}},c=l,d=(t("fd4e"),t("a1e5"),t("2877")),u=Object(d["a"])(c,a,s,!1,null,"7c9a255a",null);u.options.__file="Login.vue";o["default"]=u.exports},fd4e:function(e,o,t){"use strict";var a=t("7dad"),s=t.n(a);s.a}}]);
//# sourceMappingURL=chunk-5efa4450.ac814a53.js.map