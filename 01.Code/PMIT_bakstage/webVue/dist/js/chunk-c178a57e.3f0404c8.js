(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c178a57e"],{"656c":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0,model:e.searchForm}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-select",{attrs:{size:"mini",clearable:"",placeholder:"产品线"},on:{change:e.productChange},model:{value:e.searchForm.product,callback:function(t){e.$set(e.searchForm,"product",t)},expression:"searchForm.product"}},e._l(e.searchForm.productOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-select",{attrs:{size:"mini",clearable:"",placeholder:"DU"},on:{change:e.changeDU},model:{value:e.searchForm.du,callback:function(t){e.$set(e.searchForm,"du",t)},expression:"searchForm.du"}},e._l(e.searchForm.duOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-select",{attrs:{size:"mini",clearable:"",placeholder:"PDU"},model:{value:e.searchForm.pdu,callback:function(t){e.$set(e.searchForm,"pdu",t)},expression:"searchForm.pdu"}},e._l(e.searchForm.pduOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-input",{attrs:{size:"mini",clearable:"",placeholder:"项目组名称"},model:{value:e.searchForm.teamName,callback:function(t){e.$set(e.searchForm,"teamName",t)},expression:"searchForm.teamName"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-input",{attrs:{size:"mini",clearable:"",placeholder:"PM"},model:{value:e.searchForm.pm,callback:function(t){e.$set(e.searchForm,"pm",t)},expression:"searchForm.pm"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.onSearchForm}},[e._v(e._s(e.$t("table.search")))])],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.onCreate}},[e._v(e._s(e.$t("table.add")))])],1)],1)],1)],1),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.dataTable,border:"",fit:"",size:"mini",stripe:"","highlight-current-row":"","max-height":"400"}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",type:"index",width:"80",sortable:"true",label:e.$t("table.id")}}),a("el-table-column",{attrs:{"min-width":"120px","header-align":"center",label:e.$t("projectGroup.product"),sortable:"",prop:"bu"}}),a("el-table-column",{attrs:{"min-width":"120px","header-align":"center",prop:"du",label:"DU",sortable:""}}),a("el-table-column",{attrs:{"min-width":"150px","header-align":"center",prop:"pdu",label:"PDU",sortable:""}}),a("el-table-column",{attrs:{label:e.$t("projectGroup.teamName"),"header-align":"center","min-width":"150",sortable:"",prop:"projectName"}}),a("el-table-column",{attrs:{label:"PM","header-align":"center","min-width":"110",sortable:"",prop:"pmName"}}),a("el-table-column",{attrs:{align:"center",label:e.$t("table.option"),width:"120","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-setting",title:"团队设置"},on:{click:function(a){e.teamSettings(t.row.projectID)}}}),e._e(),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-delete",title:"删除"},on:{click:function(a){e.projectDelete(t.row.projectID)}}})]}}])})],1)],1),a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, slot, prev, pager, next",total:e.totalRecord,"prev-text":"上一页","next-text":"下一页"},on:{"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:e.dialogTitle,width:"30%",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"newForm",staticClass:"pg-form-wrap",attrs:{model:e.newForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"产品线",prop:"product"}},[a("el-select",{staticStyle:{width:"220px"},attrs:{size:"mini",placeholder:"产品线"},on:{change:e.newProductChange},model:{value:e.newForm.product,callback:function(t){e.$set(e.newForm,"product",t)},expression:"newForm.product"}},e._l(e.newForm.productOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),a("el-form-item",{attrs:{label:"DU",prop:"du"}},[a("el-select",{staticStyle:{width:"220px"},attrs:{size:"mini",placeholder:"DU"},on:{change:e.newDUChange},model:{value:e.newForm.du,callback:function(t){e.$set(e.newForm,"du",t)},expression:"newForm.du"}},e._l(e.newForm.duOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),a("el-form-item",{attrs:{label:"PDU",prop:"pdu"}},[a("el-select",{staticStyle:{width:"220px"},attrs:{size:"mini",placeholder:"PDU"},model:{value:e.newForm.pdu,callback:function(t){e.$set(e.newForm,"pdu",t)},expression:"newForm.pdu"}},e._l(e.newForm.pduOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),a("el-form-item",{attrs:{label:"项目组名称",prop:"teamName"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{size:"mini",placeholder:"项目组名称"},model:{value:e.newForm.teamName,callback:function(t){e.$set(e.newForm,"teamName",t)},expression:"newForm.teamName"}})],1),a("el-form-item",{attrs:{label:"PM",prop:"employeeName"}},[a("el-autocomplete",{staticStyle:{width:"220px"},attrs:{"trigger-on-focus":!1,size:"mini","fetch-suggestions":e.searchEmployee,placeholder:"请输入员工工号/姓名进行查询"},on:{select:e.handleSelectItem},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.item;return[l&&l.length<=0?a("div",[e._v("查无此人，请重新输入")]):l?a("div",[a("div",{staticStyle:{float:"left","margin-right":"15px"}},[e._v(e._s(l.employeeName))]),a("span",{staticStyle:{"margin-right":"15px"}},[e._v(e._s(l.employeeID))]),a("span",[e._v(e._s(l.pdu))])]):e._e()]}}]),model:{value:e.newForm.employeeName,callback:function(t){e.$set(e.newForm,"employeeName",t)},expression:"newForm.employeeName"}},[a("i",{staticClass:"el-icon-delete el-input__icon",attrs:{slot:"suffix"},on:{click:e.handleClear},slot:"suffix"})])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.onSave()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:e.dialogSetTitle,width:"70%",visible:e.dialogSetVisible,top:"30px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogSetVisible=t}}},[a("el-tabs",{on:{"tab-click":e.changeTab},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"关联PO",name:"PO"}},[a("associated-p-o",{ref:"associatedPO",attrs:{projectID:e.projectID}})],1),a("el-tab-pane",{attrs:{label:"关键角色",name:"keyRole"}},[a("key-role",{ref:"keyRole",attrs:{projectID:e.projectID}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogSetVisible=!1}}},[e._v("关 闭")])],1)],1)],1)},o=[],r=a("be94"),i=a("2f62"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"filter-container"},[a("el-date-picker",{attrs:{type:"daterange",size:"mini","range-separator":"至","start-placeholder":"立项开始日期","end-placeholder":"立项结束日期"},model:{value:e.projectApprovalDate,callback:function(t){e.projectApprovalDate=t},expression:"projectApprovalDate"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("table.search")))]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v(e._s(e.$t("table.add")))])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"",size:"mini",stripe:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"60","header-align":"center",align:"center",label:e.$t("table.id")}}),a("el-table-column",{attrs:{prop:"relationPO",label:"项目组名称","header-align":"center"}}),a("el-table-column",{attrs:{prop:"relationPO",label:"PM","header-align":"center"}}),a("el-table-column",{attrs:{prop:"relationPO",label:"关联PO名称","header-align":"center"}}),a("el-table-column",{attrs:{prop:"relationPO",label:"状态","header-align":"center"}}),a("el-table-column",{attrs:{prop:"relationPO",label:"立项时间","header-align":"center"}}),a("el-table-column",{attrs:{prop:"relationPO",label:"结项时间","header-align":"center"}}),a("el-table-column",{attrs:{prop:"relationPO",label:"操作","header-align":"center",width:"120"}},[void 0],2)],1),a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"total, slot,prev, pager, next",total:e.total,"prev-text":"上一页","next-text":"下一页"},on:{"size-change":e.handleSizeChange,"current-change":e.handleSizeChange,"update:currentPage":function(t){e.currentPage=t}}})],1),a("el-dialog",{attrs:{title:e.dialogBaseTitle,visible:e.dialogBaseVisible,width:"30%"},on:{"update:visible":function(t){e.dialogBaseVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{size:"mini",clearable:"",placeholder:"PO编号"},model:{value:e.searchForm.poID,callback:function(t){e.$set(e.searchForm,"poID",t)},expression:"searchForm.poID"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{size:"mini",clearable:"",placeholder:"PO名称"},model:{value:e.searchForm.poName,callback:function(t){e.$set(e.searchForm,"poName",t)},expression:"searchForm.poName"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.handlePOFilter}},[e._v(e._s(e.$t("table.search")))])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogBaseVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.submtForm()}}},[e._v("确 定")])],1)])],1)},s=[],c={data:function(){return{listLoading:!1,list:[],poLoading:!1,poList:[],projectApprovalDate:"",dialogBaseTitle:"选择PO",dialogBaseVisible:!1,selectedIds:[],searchForm:{poID:"",poName:""}}},computed:{startDate:function(){},endDate:function(){}},methods:{handleSizeChange:function(){},handleFilter:function(){},handleCreate:function(){this.dialogBaseVisible=!0},handlePOFilter:function(){},handleSelectionChange:function(e){this.selectedIds=e.map(function(e){return e.id})}}},u=c,m=(a("87b2"),a("2877")),p=Object(m["a"])(u,n,s,!1,null,null,null);p.options.__file="associatedPO.vue";var d,h,g=p.exports,b={},f=Object(m["a"])(b,d,h,!1,null,null,null);f.options.__file="keyRole.vue";var v=f.exports,w={components:{associatedPO:g,keyRole:v},data:function(){return{listLoading:!1,dialogTitle:"",dialogSetTitle:"团队设置",dialogSetVisible:!1,dialogVisible:!1,pageSize:10,dataTable:[],totalRecord:0,currentPage:1,activeTab:"PO",projectID:"",rules:{product:[{required:!0,message:"请选择产品线",trigger:"change"}],du:[{required:!0,message:"请选择DU",trigger:"change"}],pdu:[{required:!0,message:"请选择PDU",trigger:"change"}],pm:[{required:!0,message:"请选择PM",trigger:"change"}],teamName:[{required:!0,message:"请输入项目组名称",trigger:"blur"},{min:3,max:50,message:"长度在 3 到 50 个字符",trigger:"blur"}]}}},mounted:function(){var e=this;this.getPGProductInfo(),this.getNewFormProductInfo(),this.getProjectGroupInfo().then(function(){e.listLoading=!1}).catch(function(){e.listLoading=!1})},computed:Object(r["a"])({},Object(i["e"])({dataSource:function(e){return e.projectGroupStore.dataSource},searchForm:function(e){return e.projectGroupStore.searchForm},newForm:function(e){return e.projectGroupStore.newForm}})),watch:{dataSource:function(e){this.dataTable=e.datas,this.totalRecord=e.totleSize}},methods:Object(r["a"])({},Object(i["b"])(["getPGProductInfo","getPGDU","getPGPDUList","getProjectGroupInfo","getNewFormProductInfo","getNewFormDU","getNewFormPDUList"]),{onSearchForm:function(e,t){var a=this;a.listLoading=!0,a.currentPage=t||1,this.getProjectGroupInfo({pageNo:a.currentPage}).then(function(){a.listLoading=!1})},onCreate:function(){this.newForm.product="",this.newForm.du="",this.newForm.pdu="",this.newForm.teamName="",this.newForm.employeeName="",this.newForm.employeeId="",this.dialogTitle="添加项目组",this.dialogVisible=!0},productChange:function(){this.getPGDU()},changeDU:function(){this.getPGPDUList()},newProductChange:function(){this.getNewFormDU()},newDUChange:function(){this.getNewFormPDUList()},handleCurrentChange:function(e){var t=this;t.currentPage=e,t.onSearchForm(null,e)},teamSettings:function(e){var t=this;t.projectID=e,t.dialogSetVisible=!0,t.dialogSetTitle="团队设置"},projectEdit:function(e){this.newForm.product=e.product,this.newForm.du=e.du,this.newForm.pdu=e.pdu,this.newForm=e.teamName,this.newForm=e.pm,this.dialogTitle="编辑项目组",this.dialogVisible=!0},projectDelete:function(e){var t=this;t.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$store.dispatch("delProjectInfo",e).then(function(e){e.success?(t.$message.success("项目删除成功"),t.onSearchForm(null,t.currentPage)):t.$message.error("项目删除失败")})})},onSave:function(){var e=this;e.$refs.newForm.validate(function(t){if(!t)return!1;var a={pmID:e.newForm.employeeId,pmName:e.newForm.employeeName,bu:e.newForm.product,du:e.newForm.du,pdu:e.newForm.pdu,projectName:e.newForm.teamName};e.$store.dispatch("addProjectInfo",a).then(function(t){t.success?(e.$message.success("项目组添加成功"),e.onSearchForm(null,e.currentPage)):e.$message.error("项目组添加失败"),e.dialogVisible=!1})})},searchEmployee:function(e,t){if(e){var a=this;a.$store.dispatch("searchEmployeeInfo",e).then(function(e){e.success?t(e.data):t([])}).catch(function(e){a.$message.error(e),t()})}else t()},handleSelectItem:function(e){this.newForm.employeeName=e.employeeName,this.newForm.employeeId=e.employeeID},handleClear:function(){this.newForm.employeeName="",this.newForm.employeeId=""},changeTab:function(){}})},F=w,y=(a("f3f3"),Object(m["a"])(F,l,o,!1,null,null,null));y.options.__file="projectGroupConfig.vue";t["default"]=y.exports},"83db":function(e,t,a){},"87b2":function(e,t,a){"use strict";var l=a("83db"),o=a.n(l);o.a},b175:function(e,t,a){},f3f3:function(e,t,a){"use strict";var l=a("b175"),o=a.n(l);o.a}}]);
//# sourceMappingURL=chunk-c178a57e.3f0404c8.js.map